
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Criptografia Moip">
    <meta name="author" content="Moip">
    <title>SDK Moip.js | Valide o cadastro de suas Contas Bancárias</title>

    <link href='//fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link href="https://moip.com.br/docs/stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="https://moip.com.br/docs/stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">

    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap-theme.min.css">

    <script type="text/javascript" src="http://code.jquery.com/jquery-2.1.3.min.js"></script>
    
    <!-- Moip.js -->
    <script type="text/javascript" src="../build/moip.min.js"></script>

    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
  </head>
  
  <script type="text/javascript">

    $(document).ready(function() {
      $("#validate_bank_account").click(function() {
        Moip.BankAccount.validate({
          bankNumber         : $("#bank_number").val(),
          agencyNumber       : $("#agency_number").val(),
          agencyCheckNumber  : $("#agency_check_number").val(),
          accountNumber      : $("#account_number").val(),
          accountCheckNumber : $("#account_check_number").val(),
          valid: function() {
            $("#success_message").removeClass('hide').fadeIn('slow');
            $("#error_message").fadeOut();
          },
          invalid: function(data) {
            var errors = "Ocorreram os seguintes erros:<br/>";
            for(i in data.errors){
              errors += "- " + data.errors[i].description + "<br/>";
            }
            $("#error_message").removeClass('hide').fadeIn('slow');
            $("#error_message").html(errors);
            $("#success_message").fadeOut();
          }
        });
      });
    });
  </script>

  <body>
    <div class="limit-grid">

      <h1 class="header-devs__moip-logo"><a href="http://www.moip.com.br"><img src="https://moip.com.br/docs/images/logo-header-moip.png"></a></h1>

      <h1 class="header-devs__moip-logo"><img src="https://moip.com.br/docs/images/logo-header-title-devs.png"></h1>

    </div>
        
    <div class="row">
      <h2 class="form-signin-heading" align="center">Moip Js Bank Account Demo</h2>
      <hr>
 
      <div class="col-md-4">
        <div class="col-md-offset-2 col-md-8 alert alert-info">
          Execute o comando "grunt build" na linha de comando para atualizar o moip.min.js
        </div>
      </div>

      <div class="col-md-4">

        <div id="success_message" class="alert alert-success hide">Conta Bancária válida</div>
        <div id="error_message" class="alert alert-danger hide"></div>
   
        <form class="form-signin">

          <div class="row">
            <div class="col-md-12">

              <label>Banco</label>
              <select id="bank_number" class="form-control">
                <option value="">Selecione o banco</option>
                <optgroup label="Principais bancos">
                  <option value="001">BANCO DO BRASIL S.A.</option>
                  <option value="237">BANCO BRADESCO S.A.</option>
                  <option value="341">BANCO ITAÚ S.A.</option>
                  <option value="104">CAIXA ECONOMICA FEDERAL</option>
                  <option value="033">BANCO SANTANDER BANESPA S.A.</option>
                  <option value="399">HSBC BANK BRASIL S.A.</option>
                  <option value="745">BANCO CITIBANK S.A.</option>
                </optgroup>
                <optgroup label="Outros bancos">
                  <option value="356">BANCO ABN AMRO REAL S.A.</option>
                  <option value="409">UNIBANCO-UNIAO DE BANCOS BRASILEIROS S.A.</option>
                  <option value="041">BANCO DO ESTADO DO RIO GRANDE DO SUL S.A.</option>
                  <option value="027">BANCO DO ESTADO DE SANTA CATARINA S.A.</option>
                  <option value="389">BANCO MERCANTIL DO BRASIL S.A.</option>
                  <option value="004">BANCO DO NORDESTE DO BRASIL S.A.</option>
                  <option value="021">BANCO DO ESTADO DO ESPIRITO SANTO S.A.</option>
                  <option value="422">BANCO SAFRA S.A.</option>
                  <option value="003">BANCO DA AMAZONIA S.A.</option>
                  <option value="047">BANCO DO ESTADO DE SERGIPE S.A.</option>
                  <option value="070">BRB - BANCO DE BRASILIA S.A.</option>
                  <option value="655">BANCO VOTORANTIM S.A.</option>
                  <option value="208">BANCO UBS PACTUAL S.A.</option>
                  <option value="107">BANCO BBM S/A</option>
                  <option value="025">BANCO ALFA S.A.</option>
                  <option value="263">BANCO CACIQUE S.A.</option>
                  <option value="229">BANCO CRUZEIRO DO SUL S.A.</option>
                  <option value="252">BANCO FININVEST S.A.</option>
                  <option value="063">BANCO IBI S.A. - BANCO MÚLTIPLO</option>
                  <option value="479">BANCO ITAUBANK S.A.</option>
                  <option value="623">BANCO PANAMERICANO S.A.</option>
                  <option value="633">BANCO RENDIMENTO S.A.</option>
                  <option value="749">BANCO SIMPLES S.A.</option>
                  <option value="215">BANCO COMERCIAL E DE INVESTIMENTO SUDAMERIS S.A.</option>
                  <option value="756">BANCO COOPERATIVO DO BRASIL S.A. - BANCOOB</option>
                  <option value="748">BANCO COOPERATIVO SICREDI S.A.</option>
                  <option value="065">BANCO LEMON S.A.</option>
                  <option value="069">BPN BRASIL BANCO MÚLTIPLO S.A.</option>
                  <option value="719">BANCO INTERNACIONAL DO FUNCHAL (BRASIL) S.A.</option>
                  <option value="318">BANCO BMG S A</option>
                </optgroup>
              </select>
            </div>
          </div>

          <br/>

          <div class="row">
            <div class="col-md-5">
              <label>Agência</label>
              <input id="agency_number" placeholder="Exemplo: 0170" maxlength="5" type="text" class="form-control" />
            </div>
            <div class="col-md-4">
              <label>Dígito</label>
              <input id="agency_check_number" placeholder="Exemplo: 8" maxlength="2" type="text" class="form-control" />
            </div>
          </div>

          <br/>

          <div class="row">
            <div class="col-md-5">
              <label>Conta corrente</label>
              <input id="account_number" placeholder="Exemplo: 97845" maxlength="12" type="text" class="form-control" />
            </div>
            <div class="col-md-4">
              <label>Dígito</label>
              <input id="account_check_number" placeholder="Exemplo: 1" maxlength="2" type="text" class="form-control" />
            </div>
          </div>

          <br/>

          <input type="button" value="Validar conta bancária" id="validate_bank_account" class="btn btn-lg btn-primary btn-block"/>

        </form>

      </div>
    </div>
    <div class="col-md-4"></div>
  </body>
</html>